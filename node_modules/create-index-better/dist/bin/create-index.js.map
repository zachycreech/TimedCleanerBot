{"version":3,"sources":["../../src/bin/create-index.js"],"names":["argv","yargs","demand","options","recursive","alias","default","description","type","defaultConfig","ignoreUnsafe","ignoreDirectories","update","banner","stripExtension","indexExtension","extensions","example","_","updateIndex"],"mappings":";;AAEA;;;;AACA;;;;AAIA,MAAMA,OAAOC,gBACVC,MADU,CACH,CADG,EAEVC,OAFU,CAEF;AACPC,aAAW;AACTC,WAAO,GADE;AAETC,aAAS,KAFA;AAGTC,iBAAa,8EAHJ;AAITC,UAAM;AAJG;AADJ,CAFE,EAUVL,OAVU,CAUF;AACPM,iBAAe;AACbJ,WAAO,GADM;AAEbC,aAAS,EAFI;AAGbC,iBAAa,0EAHA;AAIbC,UAAM;AAJO;AADR,CAVE,EAkBVL,OAlBU,CAkBF;AACPO,gBAAc;AACZL,WAAO,GADK;AAEZC,aAAS,KAFG;AAGZC,iBAAa,qDAHD;AAIZC,UAAM;AAJM;AADP,CAlBE,EA0BVL,OA1BU,CA0BF;AACPQ,qBAAmB;AACjBN,WAAO,GADU;AAEjBC,aAAS,KAFQ;AAGjBC,iBAAa,yFAHI;AAIjBC,UAAM;AAJW;AADZ,CA1BE,EAkCVL,OAlCU,CAkCF;AACPS,UAAQ;AACNP,WAAO,GADD;AAENC,aAAS,KAFH;AAGNC,iBAAa,4DAHP;AAINC,UAAM;AAJA;AADD,CAlCE,EA0CVL,OA1CU,CA0CF;AACPU,UAAQ;AACNN,iBAAa,kDADP;AAENC,UAAM;AAFA;AADD,CA1CE,EAgDVL,OAhDU,CAgDF;AACPW,kBAAgB;AACdT,WAAO,GADO;AAEdC,aAAS,KAFK;AAGdC,iBAAa,oCAHC;AAIdC,UAAM;AAJQ;AADT,CAhDE,EAwDVL,OAxDU,CAwDF;AACPY,kBAAgB;AACdV,WAAO,GADO;AAEdC,aAAS,IAFK;AAGdC,iBAAa,yCAHC;AAIdC,UAAM;AAJQ;AADT,CAxDE,EAgEVL,OAhEU,CAgEF;AACPa,cAAY;AACVX,WAAO,GADG;AAEVC,aAAS,CAAC,IAAD,CAFC;AAGVC,iBAAa,2IAHH;AAIVC,UAAM;AAJI;AADL,CAhEE,EAwEVS,OAxEU,CAyET,oCAzES,EA0ET,4GA1ES,EA4EVA,OA5EU,CA6ET,qCA7ES,EA8ET,qHA9ES,EAgFVA,OAhFU,CAiFT,wCAjFS,EAkFT,0HAlFS,EAoFVjB,IApFH;;AAsFA,8BAAcA,KAAKkB,CAAnB,EAAsB;AACpBL,UAAQb,KAAKa,MADO;AAEpBJ,iBAAeT,KAAKS,aAFA;AAGpBO,cAAYhB,KAAKgB,UAHG;AAIpBL,qBAAmBX,KAAKW,iBAJJ;AAKpBD,gBAAcV,KAAKU,YALC;AAMpBK,kBAAgBf,KAAKe,cAND;AAOpBX,aAAWJ,KAAKI,SAPI;AAQpBU,kBAAgBd,KAAKc,cARD;AASpBK,eAAanB,KAAKY;AATE,CAAtB","file":"create-index.js","sourcesContent":["\n\nimport yargs from 'yargs';\nimport {\n    writeIndexCli\n} from '../utilities';\n\nconst argv = yargs\n  .demand(1)\n  .options({\n    recursive: {\n      alias: 'r',\n      default: false,\n      description: 'Create/update index files recursively. Halts on any unsafe \"index.js\" files.',\n      type: 'boolean'\n    }\n  })\n  .options({\n    defaultConfig: {\n      alias: 'c',\n      default: '',\n      description: 'Default configuration to put after newly created @create-index comments.',\n      type: 'string'\n    }\n  })\n  .options({\n    ignoreUnsafe: {\n      alias: 'i',\n      default: false,\n      description: 'Ignores unsafe \"index.js\" files instead of halting.',\n      type: 'boolean'\n    }\n  })\n  .options({\n    ignoreDirectories: {\n      alias: 'd',\n      default: false,\n      description: 'Ignores importing directories into the index file, even if they have a safe \"index.js\".',\n      type: 'boolean'\n    }\n  })\n  .options({\n    update: {\n      alias: 'u',\n      default: false,\n      description: 'Updates only previously created index files (recursively).',\n      type: 'boolean'\n    }\n  })\n  .options({\n    banner: {\n      description: 'Add a custom banner at the top of the index file',\n      type: 'string'\n    }\n  })\n  .options({\n    stripExtension: {\n      alias: 'S',\n      default: false,\n      description: 'Strip the extension when importing',\n      type: 'boolean'\n    }\n  })\n  .options({\n    indexExtension: {\n      alias: 'X',\n      default: 'js',\n      description: 'The extension to use for the index file',\n      type: 'string'\n    }\n  })\n  .options({\n    extensions: {\n      alias: 'x',\n      default: ['js'],\n      description: 'Allows some extensions to be parsed as valid source. First extension will always be preferred to homonyms with another allowed extension.',\n      type: 'array'\n    }\n  })\n  .example(\n    'create-index ./src ./src/utilities',\n    'Creates or updates an existing create-index index file in the target (./src, ./src/utilities) directories.'\n  )\n  .example(\n    'create-index --update ./src ./tests',\n    'Finds all create-index index files in the target directories and descending directories. Updates found index files.'\n  )\n  .example(\n    'create-index ./src --extensions js jsx',\n    'Creates or updates an existing create-index index file in the target (./src) directory for both .js and .jsx extensions.'\n  )\n  .argv;\n\nwriteIndexCli(argv._, {\n  banner: argv.banner,\n  defaultConfig: argv.defaultConfig,\n  extensions: argv.extensions,\n  ignoreDirectories: argv.ignoreDirectories,\n  ignoreUnsafe: argv.ignoreUnsafe,\n  indexExtension: argv.indexExtension,\n  recursive: argv.recursive,\n  stripExtension: argv.stripExtension,\n  updateIndex: argv.update\n});\n"]}